{"openapi":"3.0.0","paths":{"/api/v1":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}}}},"/api/v1/users":{"post":{"operationId":"UsersController_create","summary":"Create user","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"200":{"description":"New User created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"403":{"description":"Forbidden."}},"tags":["users"],"security":[{"bearer":[]}]},"get":{"operationId":"UsersController_findAll","summary":"Get all users","parameters":[],"responses":{"200":{"description":"List of all Users","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}},"403":{"description":"Forbidden."}},"tags":["users"],"security":[{"bearer":[]}]}},"/api/v1/users/{id}":{"get":{"operationId":"UsersController_findOne","summary":"Get user by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The found record","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"403":{"description":"Forbidden."}},"tags":["users"],"security":[{"bearer":[]}]},"patch":{"operationId":"UsersController_update","summary":"Update User by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"Updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"403":{"description":"Forbidden."}},"tags":["users"],"security":[{"bearer":[]}]},"delete":{"operationId":"UsersController_remove","summary":"Delete User by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Deleted"},"403":{"description":"Forbidden."}},"tags":["users"],"security":[{"bearer":[]}]}},"/api/v1/auth/register":{"post":{"operationId":"AuthController_register","summary":"Register a user","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"200":{"description":"New User created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"403":{"description":"Forbidden."}},"tags":["auth"]}},"/api/v1/auth/login":{"post":{"operationId":"AuthController_login","summary":"Login a user","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"User was logedin","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"403":{"description":"Forbidden."}},"tags":["auth"]}},"/api/v1/auth/refresh":{"get":{"operationId":"AuthController_refresh","summary":"Refresh a user token","parameters":[],"responses":{"200":{"description":"User token was refreshed"},"403":{"description":"Forbidden."}},"tags":["auth"],"security":[{"bearer":[]}]}},"/api/v1/messages":{"post":{"operationId":"MessagesController_create","summary":"Create message","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMessageDto"}}}},"responses":{"200":{"description":"New Message created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"403":{"description":"Forbidden."}},"tags":["messages"],"security":[{"bearer":[]}]},"get":{"operationId":"MessagesController_findAll","summary":"Get all messages","parameters":[{"name":"requesterId","required":true,"in":"query","schema":{"type":"string"}},{"name":"chatId","required":false,"in":"query","schema":{"type":"string"}},{"name":"senderId","required":false,"in":"query","schema":{}}],"responses":{"200":{"description":"List of all Messages","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Message"}}}}},"403":{"description":"Forbidden."}},"tags":["messages"],"security":[{"bearer":[]}]}},"/api/v1/messages/{id}":{"get":{"operationId":"MessagesController_findOne","summary":"Get Message by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The found record","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"403":{"description":"Forbidden."}},"tags":["messages"],"security":[{"bearer":[]}]},"patch":{"operationId":"MessagesController_update","summary":"Update Message by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMessageDto"}}}},"responses":{"200":{"description":"Updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"403":{"description":"Forbidden."}},"tags":["messages"],"security":[{"bearer":[]}]},"delete":{"operationId":"MessagesController_remove","summary":"Delete Message by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Deleted"},"403":{"description":"Forbidden."}},"tags":["messages"],"security":[{"bearer":[]}]}},"/api/v1/rooms":{"post":{"operationId":"RoomsController_create","summary":"Create Room","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoomDto"}}}},"responses":{"200":{"description":"New Room created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Room"}}}},"403":{"description":"Forbidden."}},"tags":["rooms"],"security":[{"bearer":[]}]},"get":{"operationId":"RoomsController_findAll","summary":"Get all rooms","parameters":[],"responses":{"200":{"description":"List of all Rooms","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Room"}}}}},"403":{"description":"Forbidden."}},"tags":["rooms"],"security":[{"bearer":[]}]}},"/api/v1/rooms/{id}":{"get":{"operationId":"RoomsController_findOne","summary":"Get Room by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The found record","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Room"}}}},"403":{"description":"Forbidden."}},"tags":["rooms"],"security":[{"bearer":[]}]},"patch":{"operationId":"RoomsController_update","summary":"Update Room by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRoomDto"}}}},"responses":{"200":{"description":"Updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Room"}}}},"403":{"description":"Forbidden."}},"tags":["rooms"],"security":[{"bearer":[]}]},"delete":{"operationId":"RoomsController_remove","summary":"Delete Room by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Deleted"},"403":{"description":"Forbidden."}},"tags":["rooms"],"security":[{"bearer":[]}]}},"/api/v1/roles":{"post":{"operationId":"RolesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoleDto"}}}},"responses":{"201":{"description":""}}},"get":{"operationId":"RolesController_findAll","parameters":[],"responses":{"200":{"description":""}}}},"/api/v1/roles/{id}":{"get":{"operationId":"RolesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}}},"patch":{"operationId":"RolesController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRoleDto"}}}},"responses":{"200":{"description":""}}},"delete":{"operationId":"RolesController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}}}}},"info":{"title":"WUD.Chat","description":"The wud.chat API description","version":"1.0","contact":{}},"tags":[],"servers":[{"url":"http://localhost:3000/"}],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateUserDto":{"type":"object","properties":{"email":{"type":"string","example":"johndoe@wud.chat","description":"Username of the User"},"name":{"type":"string","example":"John Doe","description":"E-Mail of the User"},"password":{"type":"string","example":"123456789","description":"Password of the User"},"lastLoginAt":{"type":"string","example":"2023-05-19T16:21:28.120Z","description":"Last Login At"},"role":{"type":"string","example":"customer","description":"Role of the User"},"emailVerified":{"type":"boolean","example":true,"description":"Is Email Verified"}},"required":["email","name","password","lastLoginAt","role","emailVerified"]},"User":{"type":"object","properties":{"_id":{"type":"string","example":"1aa21eb9-42d5-467a-9988-5696bc4bbda6","description":"ID of the User"},"__v":{"type":"number","example":23,"description":"Version of the User"},"email":{"type":"string","example":"info@wud.chat","description":"Username of the User"},"firstName":{"type":"string","example":"John","description":"Firstname of the User"},"lastName":{"type":"string","example":"Doe","description":"Lastname of the User"},"password":{"type":"string","description":"Password of the User"},"lastLoginAt":{"format":"date-time","type":"string","example":"2023-05-19T16:21:28.120Z","description":"Last Login At"},"expire":{"format":"date-time","type":"string","example":"2023-05-19T16:21:28.120Z","description":"Expire Date"},"active":{"type":"boolean","example":true,"description":"Is Active Status"},"roles":{"example":["operator","employee"],"description":"Role of the User","type":"array","items":{"type":"string"}},"emailVerified":{"type":"boolean","example":true,"description":"Is Email Verified"},"createdAt":{"format":"date-time","type":"string","example":"2023-05-19T16:21:28.120Z","description":"Created At of the Store"},"updatedAt":{"format":"date-time","type":"string","example":"2023-05-19T16:21:28.120Z","description":"Updated At of the Store"}},"required":["_id","__v","email","firstName","lastName","password","lastLoginAt","expire","active","roles","emailVerified","createdAt","updatedAt"]},"UpdateUserDto":{"type":"object","properties":{}},"RegisterDto":{"type":"object","properties":{"email":{"type":"string","example":"johndoe@wud.chat","description":"Email Address of the User"},"password":{"type":"string","example":"123456789","description":"Passwort of the User"},"firstName":{"type":"string","example":"John","description":"Firstname of the User"},"lastName":{"type":"string","example":"Doe","description":"Lastname of the User"},"roles":{"example":["operator","employee"],"description":"Roles of the User","type":"array","items":{"type":"string"}}},"required":["email","password","firstName","lastName","roles"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string","example":"info@wud.chat","description":"Email Address of the User"},"password":{"type":"string","example":"123456789","description":"Passwort of the User"},"user":{"description":"User Data","allOf":[{"$ref":"#/components/schemas/User"}]}},"required":["email","password","user"]},"CreateMessageDto":{"type":"object","properties":{"message":{"type":"string","example":"Hello World!","description":"Message of the Message"},"sender":{"type":"string","description":"Sender of the Config"},"receiver":{"type":"string","description":"Receiver of the Config"},"type":{"type":"string","example":"Channel | Direct","description":"Type of the Message"}},"required":["message","sender","receiver","type"]},"Message":{"type":"object","properties":{"_id":{"type":"string","example":"1aa21eb9-42d5-467a-9988-5696bc4bbda6","description":"ID of the Message"},"__v":{"type":"number","example":23,"description":"Version of the Message"},"message":{"type":"string","example":"Hello World","description":"Message of the Message"},"sender":{"description":"Sender of the Message","allOf":[{"$ref":"#/components/schemas/User"}]},"receiver":{"description":"Receiver of the Message","allOf":[{"$ref":"#/components/schemas/User"}]},"type":{"type":"string","example":"channel | direct","description":"Type of the Message"},"deliveredAt":{"format":"date-time","type":"string","example":"2023-05-19T16:21:28.120Z","description":"Delivered At of the Message"},"seenAt":{"format":"date-time","type":"string","example":"2023-05-19T16:21:28.120Z","description":"Seen At of the Message"},"createdAt":{"format":"date-time","type":"string","example":"2023-05-19T16:21:28.120Z","description":"Created At of the Message"},"updatedAt":{"format":"date-time","type":"string","example":"2023-05-19T16:21:28.120Z","description":"Updated At of the Message"}},"required":["_id","__v","message","sender","receiver","type","deliveredAt","seenAt","createdAt","updatedAt"]},"UpdateMessageDto":{"type":"object","properties":{"message":{"type":"string","example":"Hello World!","description":"Message of the Message"},"sender":{"type":"string","description":"Sender of the Config"},"receiver":{"type":"string","description":"Receiver of the Config"},"type":{"type":"string","example":"Channel | Direct","description":"Type of the Message"}}},"CreateRoomDto":{"type":"object","properties":{"name":{"type":"string","example":"Cat Room","description":"Name of the Room"},"tag":{"type":"string","example":"cat-lovers","description":"Tag of the Room"},"description":{"type":"string","example":"This is a awesome channel for all cat lovers","description":"Description of the Room"},"owners":{"description":"Owners of the Room","type":"array","items":{"type":"string"}},"members":{"description":"Members of the Room","type":"array","items":{"type":"string"}},"roles":{"description":"Roles of the Room","type":"array","items":{"type":"string"}}},"required":["name","tag","description","owners","members","roles"]},"Room":{"type":"object","properties":{"_id":{"type":"string","example":"1aa21eb9-42d5-467a-9988-5696bc4bbda6","description":"ID of the Room"},"__v":{"type":"number","example":23,"description":"Version of the Room"},"name":{"type":"string","example":"Cat Channel","description":"Name of the Room"},"tag":{"type":"string","example":"cat-lovers","description":"Tag of the Room"},"description":{"type":"string","example":"This is a awesome channel for all cat lovers","description":"Description of the Room"},"owners":{"description":"Owners of the Room","type":"array","items":{"type":"string"}},"members":{"description":"Members of the Room","type":"array","items":{"type":"string"}},"roles":{"description":"Roles of the Room","type":"array","items":{"type":"string"}},"messages":{"description":"Messages of the Room","type":"array","items":{"type":"string"}},"createdAt":{"format":"date-time","type":"string","example":"2023-05-19T16:21:28.120Z","description":"Created At of the Room"},"updatedAt":{"format":"date-time","type":"string","example":"2023-05-19T16:21:28.120Z","description":"Updated At of the Room"}},"required":["_id","__v","name","tag","description","owners","members","roles","messages","createdAt","updatedAt"]},"UpdateRoomDto":{"type":"object","properties":{"name":{"type":"string","example":"Cat Room","description":"Name of the Room"},"tag":{"type":"string","example":"cat-lovers","description":"Tag of the Room"},"description":{"type":"string","example":"This is a awesome channel for all cat lovers","description":"Description of the Room"},"owners":{"description":"Owners of the Room","type":"array","items":{"type":"string"}},"members":{"description":"Members of the Room","type":"array","items":{"type":"string"}},"roles":{"description":"Roles of the Room","type":"array","items":{"type":"string"}}}},"CreateRoleDto":{"type":"object","properties":{}},"UpdateRoleDto":{"type":"object","properties":{}}}}}